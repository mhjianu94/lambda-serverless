---
description: Build and local development conventions
globs: scripts/**/*.js
alwaysApply: false
---

# Build and local development

This rule applies when writing or changing scripts or the local build/deploy workflow.

## Scope

- **Scripts**: `scripts/build-lambda.js` (builds server TypeScript to `dist/lambda/` for CDK Lambda asset).
- **Build**: Lambda bundle is produced by `npm run build:lambda`; CDK in `infrastructure/` uses it (e.g. via `LAMBDA_CODE_PATH` or asset path).

## Structure (keep updated when scripts change)

```text
scripts/
  build-lambda.js
```

## Commands (reference)

- `npm run build` – build CDK (infrastructure) only.
- `npm run build:lambda` – build Lambda bundle to `dist/lambda/`.
- `npm run test:build` – build infra and run `cdk synth`.

Deploy to AWS from `infrastructure/` with `npx cdk deploy`. Document any new scripts or env vars in the README.
